<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button autoHide="true"></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Maintenances
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="loadContent()">
        <ion-icon name="refresh" color="light"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [scrollY]="canScroll">

<!--  <div *ngIf="groupsEmpty" class="loading-error">
    <div padding class="loading-error-content">
      <img src="./assets/img/adminlabs-data-not-found-003.svg" alt="Data not found">
      <h2>Unable to find any monitors.</h2>
      <p>Try to select some other monitor group or add monitors if you don't have any.</p>
    </div>
  </div>

  <div *ngIf="loadingError" class="loading-error">
    <div padding class="loading-error-content">
      <img src="./assets/img/adminlabs-data-not-found-001.svg" alt="Loading error">
      <h2>No data available.</h2>
      <p>Check your network connection, otherwise lean back and relax. We're cooking up some data at the moment and will get back to you shortly.</p>
    </div>
  </div>

  <ng-template #loading>
    <div class="loading-spinner">
      <ion-spinner></ion-spinner>
    </div>
  </ng-template>-->

  <ion-list lines="full">

    <ion-item-divider>Ongoing maintenances</ion-item-divider>

    <div *ngFor="let m of maintenances">
      <ion-item (click)="m.open = !m.open">
        <ion-icon slot="start" [name]="m.icon"></ion-icon>
        <ion-label>
          <h2>{{ m.title }}</h2>
        </ion-label>
        <ion-icon *ngIf="!m.open" slot="end" name="arrow-forward"></ion-icon>
        <ion-icon *ngIf="m.open" slot="end" name="arrow-down"></ion-icon>
      </ion-item>

      <ion-card *ngIf="m.open">
        <ion-card-header>
          <ion-card-title>{{ m.title }}</ion-card-title>
        </ion-card-header>

        <ion-card-content>{{ m.description }}</ion-card-content>

        <ion-card-content>
          <p>
            <ion-icon slot="start" [name]="m.icon"></ion-icon>
            <ion-label slot="end">{{ m.start }} - {{ m.end }}</ion-label> <br>
          </p>
          <p>
            <ion-icon slot="start" name="cog"></ion-icon>
            <ion-label slot="end"><b>Ignore outages during maintenance: </b>Yes</ion-label>
          </p>
        </ion-card-content>

        <ion-card-content>
          <p>
            <ion-icon slot="start" name="pulse"></ion-icon>
            <ion-label slot="end">Monitors</ion-label>
          </p>
          <ion-list class="maintained-monitors">
            <ion-item>
              <ion-avatar slot="start">
                <div>
                  <span class="dot-success"></span>
                </div>
              </ion-avatar>
              <ion-label>endumx</ion-label>
            </ion-item>
            <ion-item>
              <ion-avatar slot="start">
                <div>
                  <span class="dot-danger"></span>
                </div>
              </ion-avatar>
              <ion-label>lehtaku</ion-label>
            </ion-item>
          </ion-list>
        </ion-card-content>

        <ion-card-content>
          <ion-buttons>
            <ion-button fill="solid" color="danger">Stop maintenance</ion-button>
          </ion-buttons>
        </ion-card-content>

      </ion-card>
    </div>


    <ion-item-divider>Scheduled maintenances</ion-item-divider>

    <div *ngFor="let m of maintenances">
      <ion-item (click)="m.open = !m.open">
        <ion-icon slot="start" [name]="m.icon"></ion-icon>
        <ion-label>
          <h2>{{ m.title }}</h2>
        </ion-label>
        <ion-icon *ngIf="!m.open" slot="end" name="arrow-forward"></ion-icon>
        <ion-icon *ngIf="m.open" slot="end" name="arrow-down"></ion-icon>
      </ion-item>

      <ion-card *ngIf="m.open">
        <ion-card-header>
          <ion-card-title>{{ m.title }}</ion-card-title>
        </ion-card-header>

        <ion-card-content>{{ m.description }}</ion-card-content>

        <ion-card-content>
          <p>
            <ion-icon slot="start" [name]="m.icon"></ion-icon>
            <ion-label slot="end">{{ m.start }} - {{ m.end }}</ion-label> <br>
          </p>
          <p>
            <ion-icon slot="start" name="cog"></ion-icon>
            <ion-label slot="end"><b>Ignore outages during maintenance: </b>Yes</ion-label>
          </p>
        </ion-card-content>

        <ion-card-content>
          <p>
            <ion-icon slot="start" name="pulse"></ion-icon>
            <ion-label slot="end">Monitors</ion-label>
          </p>
          <ion-list class="maintained-monitors">
            <ion-item>
              <ion-avatar slot="start">
                <div>
                  <span class="dot-success"></span>
                </div>
              </ion-avatar>
              <ion-label>endumx</ion-label>
            </ion-item>
            <ion-item>
              <ion-avatar slot="start">
                <div>
                  <span class="dot-danger"></span>
                </div>
              </ion-avatar>
              <ion-label>lehtaku</ion-label>
            </ion-item>
          </ion-list>
        </ion-card-content>

        <ion-card-content>
          <ion-buttons>
            <ion-button fill="solid" color="danger">Stop maintenance</ion-button>
          </ion-buttons>
        </ion-card-content>

      </ion-card>
    </div>

  </ion-list>

</ion-content>

